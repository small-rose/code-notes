---
layout: default
title: 代理模式
nav_order: 70
parent: 结构型模式
grand_parent: 设计模式（Design Pattern）
---

# 定义

{: .new-title}
> 代理模式
> 
> `代理`是一种`结构型设计模式`，让你能够提供对象的替代品或其占位符。代理控制着对于原对象的访问，并允许在将请求提交给对象前后进行一些处理。

# 结构

![](https://cdn.jsdelivr.net/gh/guosonglu/images@master/blog-img/20221220212803.png)

- `服务接口（Service Interface）`声明了服务接口。代理必须遵循该接口才能伪装成服务对象。
- `服务（Service）`类提供了一些实用的业务逻辑。
- `代理（Proxy）`类包含一个指向服务对象的引用成员变量。代理完成其任务（例如延迟初始化、记录日志、访问控制和缓存等）后会将请求传递给服务对象。通常情况下，代理会对其服务对象的整个生命周期进行管理。
- `客户端（Client）` 能通过同一接口与服务或代理进行交互，所以你可在一切需要服务对象的代码中使用代理。

# 使用场景

- `远程代理`：为一个对象在不同的地址空间提供局部代表。这样可以隐藏一个对象存在于不同地址空间的事实。
- `虚拟代理`：根据需要创建开销很大的对象，通过它来存放实例化需要很长时间的真实对象
- `安全代理`：用来控制真实对象的访问权限
- `智能指引`：当调用真实对象时，代理处理另外一些事
