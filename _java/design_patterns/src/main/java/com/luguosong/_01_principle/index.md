---
layout: default
title: 设计原则（Principle）
nav_order: 1
parent: 设计模式（Design Pattern）
---

# 面向对象设计原则

- 衡量软件质量
    - 可维护性（Maintainability）
    - 可复用性（Reusability）

## 单一职责原则

一个对象应该只包含单一的职责，并且该职责被完整地封装在一个类中。

## 开闭原则

软件实体应该对拓展开放，对修改关闭。

软件实体应尽量在 `不修改原有代码`的情况下进行 `拓展`。

## 里氏代换原则

所有引用基类的地方必须能透明地使用其子类的对象。

父类对象可以用子类对象替换，子类对象不能用父类对象替换。

`里氏代换原则`是实现 `开闭原则`的重要方式之一。程序中尽量使用父类类型来对对象进行定义，而在运行时再确定其子类类型，
用子类对象来替代父类对象。

## 依赖倒转原则

高层模块不应该依赖低层模块，它们都应该依赖抽象。抽象不应该依赖于细节，细节应该依赖于抽象。

针对接口编程，不要针对实现编程。换句话说，就是尽量不要使用具体的实现类，而是使用它对应的接口或者所继承的抽象类。

面向接口编程时，具体类需要通过依赖注入（Dependence Injection）的方式注入到对象中，
一般有以下三种注入方式：

- 构造注入：通过构造函数传入具体类的对象
- 设值注入：通过Setter方法传入具体类的对象
- 接口注入：方法在定义时使用的是抽象类型，运行时再传入具体类的对象

## 接口隔离原则

客户端不应该依赖那些它不需要的接口

将大接口中的方法根据职责不同放在不同小接口中，以确保每个接口使用起来都较为方便。

同时接口的粒度也不能太小，否则会导致系统接口泛滥，不利于维护。

## 合成复用原则

优先使用对象组合，而不是通过继承来达到复用的目的。

继承破坏了基类的封装性，将基类的实现细节暴露给了子类。

相比于继承，组合可以使系统更加灵活，降低类与类之间的耦合度。

## 迪米特法则

每一个软件单位对其它单位都只是最少的知识，而且局限于那些与本单位密切相关的软件单位。

不要和 `陌生人`说话，只与你的直接 `朋友`通讯。在迪米特法则中，对于一个对象，其朋友包括以下几类：

- 当前对象本身（this）
- 以参数形式传入到当前对象方法中的对象。
- 当前对象的成员对象
- 如果当前对象的成员对象是一个集合，那么集合中的元素也都是朋友
- 当前对象所创建的对象

## 小结

一般情况下 `开闭原则`，`里氏代换原则`和 `依赖倒置原则`会同时出现，其中：

- 开闭原则是目的
- 里氏代换原则是基础
- 依赖导致原则是手段
